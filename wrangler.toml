name = "rondevu"
main = "src/worker.ts"
compatibility_date = "2024-01-01"

# D1 Database binding
[[d1_databases]]
binding = "DB"
database_name = "rondevu-sessions"
database_id = "b94e3f71-816d-455b-a89d-927fa49532d0"

# Environment variables
[vars]
SESSION_TIMEOUT = "300000"  # 5 minutes in milliseconds
CORS_ORIGINS = "*"  # Comma-separated list of allowed origins

# Build configuration
[build]
command = ""

# For local development:
# Run: npx wrangler dev
# The local D1 database will be created automatically

# For production deployment:
# 1. Create D1 database: npx wrangler d1 create rondevu-sessions
# 2. Update the 'database_id' field above with the returned ID
# 3. Initialize schema: npx wrangler d1 execute rondevu-sessions --remote --file=./migrations/schema.sql
# 4. Deploy: npx wrangler deploy

[observability]
[observability.logs]
enabled = false
head_sampling_rate = 1
invocation_logs = true
persist = true
